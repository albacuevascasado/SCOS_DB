<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd
        http://www.springframework.org/schema/context
        http://www.springframework.org/schema/context/spring-context.xsd">

        <context:annotation-config />
        <context:component-scan base-package="com.scos" />
        <context:property-placeholder location="file:src/main/resources/application.properties" ignore-resource-not-found="false" />

        <!-- <property> @Setter / <constructor-arg> NOTHING -->

        <!-- <bean id="applicationContext" class="com.scos.ApplicationContextFactory" /> -->

        <bean id="entityManager" class="com.scos.JpaEntityManagerFactory">
                <constructor-arg name="persistenceUnitName" value="scosEMF" />
                <property name="DB_URL" value="${DB_URL}" />
                <property name="DB_USER_NAME" value="${DB_USER_NAME}" />
                <property name="DB_PASSWORD" value="${DB_PASSWORD}" />
        </bean>

        <!-- Initialize INSIDE Spring context -->
        <bean id="fileWatcher" class="com.scos.FileWatcherService">
                <!-- <constructor-arg name="pathToDir" value="${CVS_FOLDER}" /> -->
                <property name="pathToDir" value="${WATCHER_FOLDER}" />
        </bean>

        <!-- REPOSITORIES -->
        <bean id="scosRepository" class="com.scos.repositories.SCOSRepository" />

        <!-- SERVICE -->
        <bean id="scosService" class="com.scos.services.SCOSService">
                <property name="scosRepository" ref="scosRepository" />
        </bean>

</beans>
